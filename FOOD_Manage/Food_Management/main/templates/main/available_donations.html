{% extends "layout.html" %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'main/available_donations.css' %}">
{% endblock %}

{% block content %}
<h2>Available Food Donations</h2>

{% if donations %}
    <div class="donation-list">
        {% for d in donations %}
            <div class="donation-card">
                <h3>{{ d.food_name }}</h3>
                <p><strong>Quantity:</strong> {{ d.quantity }}</p>
                <p><strong>Pickup Address:</strong> {{ d.location }}</p>
                <p><strong>Donor:</strong> {{ d.restaurant.username }}</p>
                <p><strong>Expires At:</strong> {{ d.expiry_time }}</p>
                <p><strong>Phone Number:</strong> {{ d.phone_number }}</p>
                {% if d.photo %}
                    <img src="{{ d.photo.url }}" alt="Food Image">
                {% else %}
                    <img src="{% static 'images/placeholder.png' %}" alt="No Image">
                 {% endif %}
                <a href="{% url 'claim-donation' d.id %}" class="btn-primary">Claim</a>
            </div>
        {% endfor %}
    </div>
{% else %}
    <p>No available donations at the moment.</p>
{% endif %}
{% endblock %}
