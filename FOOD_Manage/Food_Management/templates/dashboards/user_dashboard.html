{% extends "layout.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
<h2>My Donations</h2>

{% if my_donations %}
    <div class="donation-list">
    {% for donation in my_donations %}
        <div class="donation-card">
            {% if donation.photo %}
                <img src="{{ donation.photo.url }}" alt="Food Image">
            {% else %}
                <img src="{% static 'images/placeholder.png' %}" alt="No Image">
            {% endif %}
            <div class="donation-info">
                <h3>{{ donation.food_name }}</h3>
                <p><strong>Quantity:</strong> {{ donation.quantity }}</p>
                <p><strong>Pickup Address:</strong> {{ donation.location }}</p>
                <p><strong>Expires At:</strong> {{ donation.expiry_time }}</p>
                {% if donation.claimed_by %}
                    <p><strong>Claimed By:</strong> {{ donation.claimed_by.username }}</p>
                    <p><strong>Claimed At:</strong> {{ donation.claimed_at }}</p>
                {% else %}
                    <p class="not-claimed">❌ Not yet claimed</p>
                {% endif %}
            </div>
        </div>
    {% endfor %}
    </div>
{% else %}
    <p>You haven’t donated any food yet.</p>
{% endif %}
{% endblock %}
